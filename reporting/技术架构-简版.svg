<svg width="1400" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .node-text { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; font-weight: bold; }
      .tech-text { font-family: Arial, sans-serif; font-size: 9px; text-anchor: middle; }
      .frontend-node { fill: #dae8fc; stroke: #6c8ebf; stroke-width: 2; }
      .auth-node { fill: #fff2cc; stroke: #d6b656; stroke-width: 2; }
      .api-node { fill: #e1d5e7; stroke: #9673a6; stroke-width: 2; }
      .data-node { fill: #d5e8d4; stroke: #82b366; stroke-width: 2; }
      .ai-node { fill: #f8cecc; stroke: #b85450; stroke-width: 2; }
      .obs-node { fill: #ffffff; stroke: #999999; stroke-width: 2; stroke-dasharray: 5,5; }
      .flow-main { stroke: #6c8ebf; stroke-width: 3; fill: none; marker-end: url(#arrowhead-main); }
      .flow-data { stroke: #82b366; stroke-width: 2; fill: none; marker-end: url(#arrowhead-data); }
      .flow-ai { stroke: #b85450; stroke-width: 2; fill: none; marker-end: url(#arrowhead-ai); }
      .flow-obs { stroke: #999999; stroke-width: 1; fill: none; stroke-dasharray: 5,5; marker-end: url(#arrowhead-obs); }
    </style>
    <marker id="arrowhead-main" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c8ebf" />
    </marker>
    <marker id="arrowhead-data" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#82b366" />
    </marker>
    <marker id="arrowhead-ai" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#b85450" />
    </marker>
    <marker id="arrowhead-obs" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#999999" />
    </marker>
  </defs>

  <!-- 标题 -->
  <text x="700" y="30" class="title">技术架构简版 - 系统组件与数据流</text>

  <!-- 前端层 -->
  <rect x="80" y="80" width="200" height="90" rx="15" class="frontend-node"/>
  <text x="180" y="105" class="node-text">Web 前端</text>
  <text x="180" y="125" class="tech-text">Vite + React + Tailwind</text>
  <text x="180" y="140" class="tech-text">• 响应式UI界面</text>
  <text x="180" y="155" class="tech-text">• 状态管理 & 路由</text>

  <!-- 鉴权层 -->
  <rect x="320" y="80" width="180" height="90" rx="15" class="auth-node"/>
  <text x="410" y="105" class="node-text">鉴权服务</text>
  <text x="410" y="125" class="tech-text">Supabase Auth</text>
  <text x="410" y="140" class="tech-text">• 邮箱/三方登录</text>
  <text x="410" y="155" class="tech-text">• JWT Token管理</text>

  <!-- API层 -->
  <rect x="540" y="80" width="220" height="90" rx="15" class="api-node"/>
  <text x="650" y="105" class="node-text">BFF / API 层</text>
  <text x="650" y="125" class="tech-text">业务编排/权限/审计</text>
  <text x="650" y="140" class="tech-text">• RESTful API设计</text>
  <text x="650" y="155" class="tech-text">• 中间件 & 拦截器</text>

  <!-- 数据存储 -->
  <rect x="800" y="50" width="200" height="80" rx="15" class="data-node"/>
  <text x="900" y="75" class="node-text">Postgres</text>
  <text x="900" y="95" class="tech-text">结构化数据</text>
  <text x="900" y="110" class="tech-text">• 用户/项目/报告</text>

  <rect x="800" y="150" width="200" height="80" rx="15" class="data-node"/>
  <text x="900" y="175" class="node-text">对象存储/导出</text>
  <text x="900" y="195" class="tech-text">报告/附件/PDF</text>
  <text x="900" y="210" class="tech-text">• 文件管理 & CDN</text>

  <!-- AI推理层 -->
  <rect x="540" y="250" width="220" height="90" rx="15" class="ai-node"/>
  <text x="650" y="275" class="node-text">AI 推理/模板渲染</text>
  <text x="650" y="295" class="tech-text">异步任务队列</text>
  <text x="650" y="310" class="tech-text">• LLM集成 & 提示工程</text>
  <text x="650" y="325" class="tech-text">• 模板引擎 & 批处理</text>

  <!-- 可观测性 -->
  <rect x="1050" y="80" width="220" height="90" rx="15" class="obs-node"/>
  <text x="1160" y="105" class="node-text">可观测性</text>
  <text x="1160" y="125" class="tech-text">日志/指标/告警/追踪</text>
  <text x="1160" y="140" class="tech-text">• 性能监控</text>
  <text x="1160" y="155" class="tech-text">• 错误追踪 & 告警</text>

  <!-- 主要连线 -->
  <path d="M 280 125 L 320 125" class="flow-main"/>
  <path d="M 500 125 L 540 125" class="flow-main"/>
  
  <!-- 数据连线 -->
  <path d="M 760 110 L 800 90" class="flow-data"/>
  <path d="M 760 140 L 800 190" class="flow-data"/>
  
  <!-- AI连线 -->
  <path d="M 650 170 L 650 250" class="flow-ai"/>
  
  <!-- 可观测性连线 -->
  <path d="M 760 125 L 1050 125" class="flow-obs"/>

  <!-- 技术栈说明 -->
  <rect x="80" y="380" width="1200" height="80" fill="#f5f5f5" stroke="#666666" stroke-width="1" rx="5"/>
  <text x="100" y="405" style="font-family: Arial, sans-serif; font-size: 14px; font-weight: bold;">核心技术栈</text>
  
  <text x="100" y="425" style="font-family: Arial, sans-serif; font-size: 11px;">• 前端：Vite 5.x + React 18 + TypeScript + Tailwind CSS + Zustand</text>
  <text x="100" y="440" style="font-family: Arial, sans-serif; font-size: 11px;">• 后端：Node.js + Express/Fastify + Prisma ORM + PostgreSQL + Redis</text>
  <text x="100" y="455" style="font-family: Arial, sans-serif; font-size: 11px;">• AI/ML：OpenAI API + LangChain + 模板引擎 + 异步任务队列(Bull/Agenda)</text>
  
  <text x="700" y="425" style="font-family: Arial, sans-serif; font-size: 11px;">• 鉴权：Supabase Auth + JWT + RBAC权限模型</text>
  <text x="700" y="440" style="font-family: Arial, sans-serif; font-size: 11px;">• 存储：PostgreSQL + AWS S3/阿里云OSS + 文件CDN</text>
  <text x="700" y="455" style="font-family: Arial, sans-serif; font-size: 11px;">• 运维：Docker + PM2 + Nginx + 日志聚合 + 性能监控</text>

</svg>